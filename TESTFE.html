<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n L√Ω Thu·ªëc C·∫ßn Khang Ca</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 3px solid #667eea;
            overflow-x: auto;
        }
        
        .nav-tab {
            padding: 15px 30px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 16px;
            font-weight: 600;
            color: #666;
            transition: all 0.3s;
            white-space: nowrap;
        }
        
        .nav-tab:hover {
            background: #e9ecef;
        }
        
        .nav-tab.active {
            background: white;
            color: #667eea;
            border-bottom: 3px solid #667eea;
        }
        
        .page {
            display: none;
            padding: 30px;
            animation: fadeIn 0.5s;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border 0.3s;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #667eea;
        }
        
        textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-success {
            background: #28a745;
            color: white;
        }
        
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        
        .btn-warning {
            background: #ffc107;
            color: #333;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }
        
        .alert.show {
            display: block;
            animation: slideDown 0.3s;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .search-box input {
            flex: 1;
        }
        
        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            .nav-tabs {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üè• H·ªá Th·ªëng Qu·∫£n L√Ω Thu·ªëc C·∫ßn Khang Ca</h1>
            <p>Qu·∫£n l√Ω to√†n di·ªán s·∫£n ph·∫©m, danh m·ª•c, nh√¢n vi√™n v√† ƒë∆°n h√†ng</p>
        </div>
        
        <div class="nav-tabs">
            <button class="nav-tab active" data-page="danhmuc">üìÅ Danh M·ª•c</button>
            <button class="nav-tab" data-page="donvitinh">üìè ƒê∆°n V·ªã T√≠nh</button>
            <button class="nav-tab" data-page="nhanvien">üë• Nh√¢n Vi√™n</button>
            <button class="nav-tab" data-page="sanpham">üíä S·∫£n Ph·∫©m</button>
            <button class="nav-tab" data-page="donhang">üõí ƒê∆°n H√†ng</button>
        </div>

        <!-- TRANG 1: QU·∫¢N L√ù DANH M·ª§C -->
        <div id="page-danhmuc" class="page active">
            <h2>üìÅ Qu·∫£n L√Ω Danh M·ª•c</h2>
            <div id="alert-danhmuc" class="alert"></div>
            
            <div class="grid-2">
                <div class="card">
                    <h3>Th√™m Danh M·ª•c M·ªõi</h3>
                    <form id="form-danhmuc">
                        <div class="form-group">
                            <label>T√™n Danh M·ª•c *</label>
                            <input type="text" id="tendm" required placeholder="V√≠ d·ª•: Thu·ªëc gi·∫£m ƒëau">
                        </div>
                        <button type="submit" class="btn btn-primary">‚ûï Th√™m Danh M·ª•c</button>
                    </form>
                </div>
                
                <div class="card">
                    <h3>T√¨m Ki·∫øm</h3>
                    <div class="search-box">
                        <input type="text" id="search-danhmuc" placeholder="T√¨m ki·∫øm danh m·ª•c...">
                        <button class="btn btn-primary" id="btn-search-danhmuc">üîç T√¨m</button>
                    </div>
                </div>
            </div>
            
            <h3>Danh S√°ch Danh M·ª•c</h3>
            <table>
                <thead>
                    <tr>
                        <th>M√£ DM</th>
                        <th>T√™n Danh M·ª•c</th>
                        <th>Thao T√°c</th>
                    </tr>
                </thead>
                <tbody id="table-danhmuc">
                    <tr><td colspan="3" style="text-align: center;">ƒêang t·∫£i d·ªØ li·ªáu...</td></tr>
                </tbody>
            </table>
        </div>

        <!-- TRANG 2: QU·∫¢N L√ù ƒêON V·ªä T√çNH -->
        <div id="page-donvitinh" class="page">
            <h2>üìè Qu·∫£n L√Ω ƒê∆°n V·ªã T√≠nh</h2>
            <div id="alert-donvitinh" class="alert"></div>
            
            <div class="grid-2">
                <div class="card">
                    <h3>Th√™m ƒê∆°n V·ªã T√≠nh M·ªõi</h3>
                    <form id="form-donvitinh">
                        <div class="form-group">
                            <label>T√™n ƒê∆°n V·ªã T√≠nh *</label>
                            <input type="text" id="tendv" required placeholder="V√≠ d·ª•: H·ªôp, Vi√™n, Chai">
                        </div>
                        <button type="submit" class="btn btn-primary">‚ûï Th√™m ƒê∆°n V·ªã</button>
                    </form>
                </div>
                
                <div class="card">
                    <h3>T√¨m Ki·∫øm</h3>
                    <div class="search-box">
                        <input type="text" id="search-donvitinh" placeholder="T√¨m ki·∫øm ƒë∆°n v·ªã t√≠nh...">
                        <button class="btn btn-primary" id="btn-search-donvitinh">üîç T√¨m</button>
                    </div>
                </div>
            </div>
            
            <h3>Danh S√°ch ƒê∆°n V·ªã T√≠nh</h3>
            <table>
                <thead>
                    <tr>
                        <th>M√£ ƒêV</th>
                        <th>T√™n ƒê∆°n V·ªã T√≠nh</th>
                        <th>Thao T√°c</th>
                    </tr>
                </thead>
                <tbody id="table-donvitinh">
                    <tr><td colspan="3" style="text-align: center;">ƒêang t·∫£i d·ªØ li·ªáu...</td></tr>
                </tbody>
            </table>
        </div>

        <!-- TRANG 3: QU·∫¢N L√ù NH√ÇN VI√äN -->
        <div id="page-nhanvien" class="page">
            <h2>üë• Qu·∫£n L√Ω Nh√¢n Vi√™n</h2>
            <div id="alert-nhanvien" class="alert"></div>
            
            <div class="card">
                <h3>Th√™m Nh√¢n Vi√™n M·ªõi</h3>
                <form id="form-nhanvien">
                    <div class="grid-2">
                        <div class="form-group">
                            <label>H·ªç T√™n *</label>
                            <input type="text" id="hoten" required placeholder="Nguy·ªÖn VƒÉn A">
                        </div>
                        <div class="form-group">
                            <label>Gi·ªõi T√≠nh *</label>
                            <select id="gt" required>
                                <option value="">-- Ch·ªçn gi·ªõi t√≠nh --</option>
                                <option value="Nam">Nam</option>
                                <option value="N·ªØ">N·ªØ</option>
                                <option value="Kh√°c">Kh√°c</option>
                            </select>
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Ng√†y Sinh *</label>
                            <input type="date" id="ns" required>
                        </div>
                        <div class="form-group">
                            <label>Ng√†y V√†o L√†m *</label>
                            <input type="date" id="ngayvl" required>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">‚ûï Th√™m Nh√¢n Vi√™n</button>
                </form>
            </div>
            
            <h3>Danh S√°ch Nh√¢n Vi√™n</h3>
            <table>
                <thead>
                    <tr>
                        <th>M√£ NV</th>
                        <th>H·ªç T√™n</th>
                        <th>Gi·ªõi T√≠nh</th>
                        <th>Ng√†y Sinh</th>
                        <th>Ng√†y V√†o L√†m</th>
                        <th>Thao T√°c</th>
                    </tr>
                </thead>
                <tbody id="table-nhanvien">
                    <tr><td colspan="6" style="text-align: center;">ƒêang t·∫£i d·ªØ li·ªáu...</td></tr>
                </tbody>
            </table>
        </div>

        <!-- TRANG 4: QU·∫¢N L√ù S·∫¢N PH·∫®M -->
        <div id="page-sanpham" class="page">
            <h2>üíä Qu·∫£n L√Ω S·∫£n Ph·∫©m</h2>
            <div id="alert-sanpham" class="alert"></div>
            
            <div class="card">
                <h3>Th√™m S·∫£n Ph·∫©m M·ªõi</h3>
                <form id="form-sanpham">
                    <div class="grid-2">
                        <div class="form-group">
                            <label>T√™n S·∫£n Ph·∫©m *</label>
                            <input type="text" id="tensp" required placeholder="Paracetamol 500mg">
                        </div>
                        <div class="form-group">
                            <label>Xu·∫•t X·ª©</label>
                            <input type="text" id="xuatsu" placeholder="Vi·ªát Nam">
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Gi√° B√°n (VNƒê) *</label>
                            <input type="number" id="giaban" required step="0.01" placeholder="50000">
                        </div>
                        <div class="form-group">
                            <label>Gi·∫£m Gi√° (VNƒê)</label>
                            <input type="number" id="giamgia" step="0.01" placeholder="0">
                        </div>
                    </div>
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Danh M·ª•c *</label>
                            <select id="madm" required>
                                <option value="">-- Ch·ªçn danh m·ª•c --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ƒê∆°n V·ªã T√≠nh *</label>
                            <select id="madv" required>
                                <option value="">-- Ch·ªçn ƒë∆°n v·ªã --</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>H√¨nh ·∫¢nh (URL)</label>
                        <input type="text" id="hinhnsp" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-group">
                        <label>C√¥ng D·ª•ng</label>
                        <textarea id="congdung" placeholder="M√¥ t·∫£ c√¥ng d·ª•ng c·ªßa s·∫£n ph·∫©m..."></textarea>
                    </div>
                    <div class="form-group">
                        <label>C√°ch D√πng</label>
                        <textarea id="cachdung" placeholder="H∆∞·ªõng d·∫´n c√°ch s·ª≠ d·ª•ng..."></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">‚ûï Th√™m S·∫£n Ph·∫©m</button>
                </form>
            </div>
            
            <h3>Danh S√°ch S·∫£n Ph·∫©m</h3>
            <table>
                <thead>
                    <tr>
                        <th>M√£ SP</th>
                        <th>T√™n S·∫£n Ph·∫©m</th>
                        <th>Gi√° B√°n</th>
                        <th>Gi·∫£m Gi√°</th>
                        <th>Danh M·ª•c</th>
                        <th>ƒê∆°n V·ªã</th>
                        <th>Thao T√°c</th>
                    </tr>
                </thead>
                <tbody id="table-sanpham">
                    <tr><td colspan="7" style="text-align: center;">ƒêang t·∫£i d·ªØ li·ªáu...</td></tr>
                </tbody>
            </table>
        </div>

        <!-- TRANG 5: QU·∫¢N L√ù ƒê∆†N H√ÄNG -->
        <div id="page-donhang" class="page">
            <h2>üõí Qu·∫£n L√Ω ƒê∆°n H√†ng</h2>
            <div id="alert-donhang" class="alert"></div>
            
            <div class="card">
                <h3>T·∫°o ƒê∆°n H√†ng M·ªõi</h3>
                <form id="form-donhang">
                    <div class="grid-2">
                        <div class="form-group">
                            <label>Nh√¢n Vi√™n X·ª≠ L√Ω *</label>
                            <select id="manv" required>
                                <option value="">-- Ch·ªçn nh√¢n vi√™n --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Gi·∫£m Gi√° ƒê∆°n H√†ng (VNƒê)</label>
                            <input type="number" id="giamgia-dh" step="0.01" placeholder="0">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Ng√†y T·∫°o *</label>
                        <input type="datetime-local" id="ngaytao" required>
                    </div>
                    
                    <h4>Chi Ti·∫øt ƒê∆°n H√†ng</h4>
                    <div id="chitiet-container">
                        <div class="chitiet-item" style="background: #f0f0f0; padding: 15px; border-radius: 8px; margin-bottom: 10px;">
                            <div class="grid-2">
                                <div class="form-group">
                                    <label>S·∫£n Ph·∫©m</label>
                                    <select class="chitiet-masp" required>
                                        <option value="">-- Ch·ªçn s·∫£n ph·∫©m --</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>S·ªë L∆∞·ª£ng</label>
                                    <input type="number" class="chitiet-sl" required min="1" value="1">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <button type="button" class="btn btn-success" id="btn-them-chitiet">‚ûï Th√™m S·∫£n Ph·∫©m</button>
                    <button type="submit" class="btn btn-primary">üõí T·∫°o ƒê∆°n H√†ng</button>
                </form>
            </div>
            
            <h3>Danh S√°ch ƒê∆°n H√†ng</h3>
            <table>
                <thead>
                    <tr>
                        <th>S·ªë ƒêH</th>
                        <th>Ng√†y T·∫°o</th>
                        <th>Gi·∫£m Gi√°</th>
                        <th>Nh√¢n Vi√™n</th>
                        <th>Thao T√°c</th>
                    </tr>
                </thead>
                <tbody id="table-donhang">
                    <tr><td colspan="5" style="text-align: center;">ƒêang t·∫£i d·ªØ li·ªáu...</td></tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // ==================== C·∫§U H√åNH API ====================
        // TODO: Thay ƒë·ªïi URL API c·ªßa b·∫°n t·∫°i ƒë√¢y
        const API_BASE_URL = 'http://localhost:8080/api'; // Thay ƒë·ªïi URL n√†y
            
        // ==================== CHUY·ªÇN TRANG ====================
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const pageName = this.getAttribute('data-page');
                
                // ·∫®n t·∫•t c·∫£ c√°c trang
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                
                // Hi·ªÉn th·ªã trang ƒë∆∞·ª£c ch·ªçn
                document.getElementById('page-' + pageName).classList.add('active');
                this.classList.add('active');
                
                // Load d·ªØ li·ªáu cho trang
                switch(pageName) {
                    case 'danhmuc': 
                        loadDanhMuc(); 
                        break;
                    case 'donvitinh': 
                        loadDonViTinh(); 
                        break;
                    case 'nhanvien': 
                        loadNhanVien(); 
                        break;
                    case 'sanpham': 
                        loadSanPham(); 
                        loadDanhMucForSelect();
                        loadDonViTinhForSelect();
                        break;
                    case 'donhang': 
                        loadDonHang(); 
                        loadNhanVienForSelect();
                        loadSanPhamForSelect();
                        break;
                }
            });
        });
        
        // ==================== HI·ªÇN TH·ªä TH√îNG B√ÅO ====================
        function showAlert(elementId, message, type) {
            const alert = document.getElementById(elementId);
            alert.className = `alert alert-${type} show`;
            alert.textContent = message;
            setTimeout(() => alert.classList.remove('show'), 5000);
        }
        
        // ==================== TRANG 1: DANH M·ª§C ====================
        
        // GET: L·∫•y danh s√°ch danh m·ª•c
        async function loadDanhMuc() {
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y ƒë·ªÉ g·ªçi API c·ªßa b·∫°n
                 * Endpoint: GET /api/danhmuc
                 * Response format: [{ madm: 1, tendm: "Thu·ªëc gi·∫£m ƒëau" }, ...]
                 */
                const response = await fetch(`${API_BASE_URL}/danhmuc`);
                const data = await response.json();
                
                const tbody = document.getElementById('table-danhmuc');
                if (data.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="3" style="text-align: center;">Ch∆∞a c√≥ d·ªØ li·ªáu</td></tr>';
                    return;
                }
                
                tbody.innerHTML = data.map(item => `
                    <tr>
                        <td>${item.madm}</td>
                        <td>${item.tendm}</td>
                        <td>
                            <button class="btn btn-warning btn-edit-danhmuc" data-id="${item.madm}">‚úèÔ∏è S·ª≠a</button>
                            <button class="btn btn-danger btn-delete-danhmuc" data-id="${item.madm}">üóëÔ∏è X√≥a</button>
                        </td>
                    </tr>
                `).join('');
                
                // G·∫Øn s·ª± ki·ªán cho n√∫t x√≥a
                document.querySelectorAll('.btn-delete-danhmuc').forEach(btn => {
                    btn.addEventListener('click', function() {
                        deleteDanhMuc(this.getAttribute('data-id'));
                    });
                });
            } catch (error) {
                console.error('L·ªói khi t·∫£i danh m·ª•c:', error);
                showAlert('alert-danhmuc', 'L·ªói khi t·∫£i d·ªØ li·ªáu!', 'error');
            }
        }
        
        // POST: Th√™m danh m·ª•c m·ªõi
        document.getElementById('form-danhmuc').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const data = {
                tendm: document.getElementById('tendm').value
            };
            
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y ƒë·ªÉ g·ªçi API c·ªßa b·∫°n
                 * Endpoint: POST /api/danhmuc
                 * Body: { tendm: "T√™n danh m·ª•c" }
                 * Response: { message: "Th√†nh c√¥ng", madm: 1 }
                 */
                const response = await fetch(`${API_BASE_URL}/danhmuc`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                showAlert('alert-danhmuc', 'Th√™m danh m·ª•c th√†nh c√¥ng!', 'success');
                document.getElementById('form-danhmuc').reset();
                loadDanhMuc();
            } catch (error) {
                console.error('L·ªói khi th√™m danh m·ª•c:', error);
                showAlert('alert-danhmuc', 'L·ªói khi th√™m danh m·ª•c!', 'error');
            }
        });
        
        // DELETE: X√≥a danh m·ª•c
        async function deleteDanhMuc(madm) {
            if (!confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a danh m·ª•c n√†y?')) return;
            
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y ƒë·ªÉ g·ªçi API c·ªßa b·∫°n
                 * Endpoint: DELETE /api/danhmuc/:madm
                 * Response: { message: "X√≥a th√†nh c√¥ng" }
                 */
                const response = await fetch(`${API_BASE_URL}/danhmuc/${madm}`, {
                    method: 'DELETE'
                });
                
                showAlert('alert-danhmuc', 'X√≥a danh m·ª•c th√†nh c√¥ng!', 'success');
                loadDanhMuc();
            } catch (error) {
                console.error('L·ªói khi x√≥a:', error);
                showAlert('alert-danhmuc', 'L·ªói khi x√≥a danh m·ª•c!', 'error');
            }
        }
        
        // T√¨m ki·∫øm danh m·ª•c
        document.getElementById('btn-search-danhmuc').addEventListener('click', function() {
            const searchValue = document.getElementById('search-danhmuc').value.toLowerCase();
            const rows = document.querySelectorAll('#table-danhmuc tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchValue) ? '' : 'none';
            });
        });
        
        // ==================== TRANG 2: ƒê∆†N V·ªä T√çNH ====================
        
        // GET: L·∫•y danh s√°ch ƒë∆°n v·ªã t√≠nh
        async function loadDonViTinh() {
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: GET /api/donvitinh
                 * Response: [{ madv: 1, tendv: "H·ªôp" }, ...]
                 */
                const response = await fetch(`${API_BASE_URL}/donvitinh`);
                const data = await response.json();
                
                const tbody = document.getElementById('table-donvitinh');
                if (data.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="3" style="text-align: center;">Ch∆∞a c√≥ d·ªØ li·ªáu</td></tr>';
                    return;
                }
                
                tbody.innerHTML = data.map(item => `
                    <tr>
                        <td>${item.madv}</td>
                        <td>${item.tendv}</td>
                        <td>
                            <button class="btn btn-warning btn-edit-donvitinh" data-id="${item.madv}">‚úèÔ∏è S·ª≠a</button>
                            <button class="btn btn-danger btn-delete-donvitinh" data-id="${item.madv}">üóëÔ∏è X√≥a</button>
                        </td>
                    </tr>
                `).join('');
                
                document.querySelectorAll('.btn-delete-donvitinh').forEach(btn => {
                    btn.addEventListener('click', function() {
                        deleteDonViTinh(this.getAttribute('data-id'));
                    });
                });
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-donvitinh', 'L·ªói khi t·∫£i d·ªØ li·ªáu!', 'error');
            }
        }
        
        // POST: Th√™m ƒë∆°n v·ªã t√≠nh
        document.getElementById('form-donvitinh').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const data = {
                tendv: document.getElementById('tendv').value
            };
            
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: POST /api/donvitinh
                 * Body: { tendv: "H·ªôp" }
                 */
                const response = await fetch(`${API_BASE_URL}/donvitinh`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                showAlert('alert-donvitinh', 'Th√™m ƒë∆°n v·ªã t√≠nh th√†nh c√¥ng!', 'success');
                document.getElementById('form-donvitinh').reset();
                loadDonViTinh();
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-donvitinh', 'L·ªói khi th√™m ƒë∆°n v·ªã t√≠nh!', 'error');
            }
        });
        
        // DELETE: X√≥a ƒë∆°n v·ªã t√≠nh
        async function deleteDonViTinh(madv) {
            if (!confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a ƒë∆°n v·ªã t√≠nh n√†y?')) return;
            
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: DELETE /api/donvitinh/:madv
                 */
                const response = await fetch(`${API_BASE_URL}/donvitinh/${madv}`, {
                    method: 'DELETE'
                });
                
                showAlert('alert-donvitinh', 'X√≥a ƒë∆°n v·ªã t√≠nh th√†nh c√¥ng!', 'success');
                loadDonViTinh();
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-donvitinh', 'L·ªói khi x√≥a!', 'error');
            }
        }
        
        // T√¨m ki·∫øm ƒë∆°n v·ªã t√≠nh
        document.getElementById('btn-search-donvitinh').addEventListener('click', function() {
            const searchValue = document.getElementById('search-donvitinh').value.toLowerCase();
            const rows = document.querySelectorAll('#table-donvitinh tr');
            
            rows.forEach(row => {
                const text = row.textContent.toLowerCase();
                row.style.display = text.includes(searchValue) ? '' : 'none';
            });
        });
        
        // ==================== TRANG 3: NH√ÇN VI√äN ====================
        
        // GET: L·∫•y danh s√°ch nh√¢n vi√™n
        async function loadNhanVien() {
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: GET /api/nhanvien
                 * Response: [{ manv: 1, hoten: "Nguy·ªÖn VƒÉn A", gt: "Nam", ns: "1990-01-01", ngayvl: "2020-01-01" }, ...]
                 */
                const response = await fetch(`${API_BASE_URL}/nhanvien`);
                const data = await response.json();
                
                const tbody = document.getElementById('table-nhanvien');
                if (data.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="6" style="text-align: center;">Ch∆∞a c√≥ d·ªØ li·ªáu</td></tr>';
                    return;
                }
                
                tbody.innerHTML = data.map(item => `
                    <tr>
                        <td>${item.manv}</td>
                        <td>${item.hoten}</td>
                        <td>${item.gt}</td>
                        <td>${item.ns}</td>
                        <td>${item.ngayvl}</td>
                        <td>
                            <button class="btn btn-warning btn-edit-nhanvien" data-id="${item.manv}">‚úèÔ∏è S·ª≠a</button>
                            <button class="btn btn-danger btn-delete-nhanvien" data-id="${item.manv}">üóëÔ∏è X√≥a</button>
                        </td>
                    </tr>
                `).join('');
                
                document.querySelectorAll('.btn-delete-nhanvien').forEach(btn => {
                    btn.addEventListener('click', function() {
                        deleteNhanVien(this.getAttribute('data-id'));
                    });
                });
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-nhanvien', 'L·ªói khi t·∫£i d·ªØ li·ªáu!', 'error');
            }
        }
        
        // POST: Th√™m nh√¢n vi√™n
        document.getElementById('form-nhanvien').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const data = {
                hoten: document.getElementById('hoten').value,
                gt: document.getElementById('gt').value,
                ns: document.getElementById('ns').value,
                ngayvl: document.getElementById('ngayvl').value
            };
            
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: POST /api/nhanvien
                 * Body: { hoten: "...", gt: "Nam", ns: "1990-01-01", ngayvl: "2020-01-01" }
                 */
                const response = await fetch(`${API_BASE_URL}/nhanvien`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                showAlert('alert-nhanvien', 'Th√™m nh√¢n vi√™n th√†nh c√¥ng!', 'success');
                document.getElementById('form-nhanvien').reset();
                loadNhanVien();
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-nhanvien', 'L·ªói khi th√™m nh√¢n vi√™n!', 'error');
            }
        });
        
        // DELETE: X√≥a nh√¢n vi√™n
        async function deleteNhanVien(manv) {
            if (!confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a nh√¢n vi√™n n√†y?')) return;
            
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: DELETE /api/nhanvien/:manv
                 */
                const response = await fetch(`${API_BASE_URL}/nhanvien/${manv}`, {
                    method: 'DELETE'
                });
                
                showAlert('alert-nhanvien', 'X√≥a nh√¢n vi√™n th√†nh c√¥ng!', 'success');
                loadNhanVien();
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-nhanvien', 'L·ªói khi x√≥a!', 'error');
            }
        }
        
        // ==================== TRANG 4: S·∫¢N PH·∫®M ====================
        
        // GET: L·∫•y danh s√°ch s·∫£n ph·∫©m
        async function loadSanPham() {
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: GET /api/sanpham
                 * Response: [{ masp: 1, tensp: "...", giaban: 50000, giamgia: 5000, madm: 1, madv: 1, tendm: "...", tendv: "..." }, ...]
                 */
                const response = await fetch(`${API_BASE_URL}/sanpham`);
                const data = await response.json();
                
                const tbody = document.getElementById('table-sanpham');
                if (data.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="7" style="text-align: center;">Ch∆∞a c√≥ d·ªØ li·ªáu</td></tr>';
                    return;
                }
                
                tbody.innerHTML = data.map(item => `
                    <tr>
                        <td>${item.masp}</td>
                        <td>${item.tensp}</td>
                        <td>${Number(item.giaban).toLocaleString('vi-VN')} ƒë</td>
                        <td>${Number(item.giamgia || 0).toLocaleString('vi-VN')} ƒë</td>
                        <td>${item.tendm || item.madm}</td>
                        <td>${item.tendv || item.madv}</td>
                        <td>
                            <button class="btn btn-warning btn-edit-sanpham" data-id="${item.masp}">‚úèÔ∏è S·ª≠a</button>
                            <button class="btn btn-danger btn-delete-sanpham" data-id="${item.masp}">üóëÔ∏è X√≥a</button>
                        </td>
                    </tr>
                `).join('');
                
                document.querySelectorAll('.btn-delete-sanpham').forEach(btn => {
                    btn.addEventListener('click', function() {
                        deleteSanPham(this.getAttribute('data-id'));
                    });
                });
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-sanpham', 'L·ªói khi t·∫£i d·ªØ li·ªáu!', 'error');
            }
        }
        
        // Load danh m·ª•c cho select
        async function loadDanhMucForSelect() {
            try {
                const response = await fetch(`${API_BASE_URL}/danhmuc`);
                const data = await response.json();
                
                const select = document.getElementById('madm');
                select.innerHTML = '<option value="">-- Ch·ªçn danh m·ª•c --</option>';
                data.forEach(item => {
                    select.innerHTML += `<option value="${item.madm}">${item.tendm}</option>`;
                });
            } catch (error) {
                console.error('L·ªói:', error);
            }
        }
        
        // Load ƒë∆°n v·ªã t√≠nh cho select
        async function loadDonViTinhForSelect() {
            try {
                const response = await fetch(`${API_BASE_URL}/donvitinh`);
                const data = await response.json();
                
                const select = document.getElementById('madv');
                select.innerHTML = '<option value="">-- Ch·ªçn ƒë∆°n v·ªã --</option>';
                data.forEach(item => {
                    select.innerHTML += `<option value="${item.madv}">${item.tendv}</option>`;
                });
            } catch (error) {
                console.error('L·ªói:', error);
            }
        }
        
        // POST: Th√™m s·∫£n ph·∫©m
        document.getElementById('form-sanpham').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const data = {
                tensp: document.getElementById('tensp').value,
                giaban: document.getElementById('giaban').value,
                giamgia: document.getElementById('giamgia').value || 0,
                hinhnsp: document.getElementById('hinhnsp').value,
                congdung: document.getElementById('congdung').value,
                xuatsu: document.getElementById('xuatsu').value,
                cachdung: document.getElementById('cachdung').value,
                madm: document.getElementById('madm').value,
                madv: document.getElementById('madv').value
            };
            
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: POST /api/sanpham
                 * Body: { tensp, giaban, giamgia, hinhnsp, congdung, xuatsu, cachdung, madm, madv }
                 */
                const response = await fetch(`${API_BASE_URL}/sanpham`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                showAlert('alert-sanpham', 'Th√™m s·∫£n ph·∫©m th√†nh c√¥ng!', 'success');
                document.getElementById('form-sanpham').reset();
                loadSanPham();
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-sanpham', 'L·ªói khi th√™m s·∫£n ph·∫©m!', 'error');
            }
        });
        
        // DELETE: X√≥a s·∫£n ph·∫©m
        async function deleteSanPham(masp) {
            if (!confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m n√†y?')) return;
            
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: DELETE /api/sanpham/:masp
                 */
                const response = await fetch(`${API_BASE_URL}/sanpham/${masp}`, {
                    method: 'DELETE'
                });
                
                showAlert('alert-sanpham', 'X√≥a s·∫£n ph·∫©m th√†nh c√¥ng!', 'success');
                loadSanPham();
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-sanpham', 'L·ªói khi x√≥a!', 'error');
            }
        }
        
        // ==================== TRANG 5: ƒê∆†N H√ÄNG ====================
        
        // GET: L·∫•y danh s√°ch ƒë∆°n h√†ng
        async function loadDonHang() {
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: GET /api/donhang
                 * Response: [{ sodh: 1, ngaytao: "2024-01-01 10:00:00", giamgia: 10000, manv: 1, hoten: "Nguy·ªÖn VƒÉn A" }, ...]
                 */
                const response = await fetch(`${API_BASE_URL}/donhang`);
                const data = await response.json();
                
                const tbody = document.getElementById('table-donhang');
                if (data.length === 0) {
                    tbody.innerHTML = '<tr><td colspan="5" style="text-align: center;">Ch∆∞a c√≥ d·ªØ li·ªáu</td></tr>';
                    return;
                }
                
                tbody.innerHTML = data.map(item => `
                    <tr>
                        <td>${item.sodh}</td>
                        <td>${item.ngaytao}</td>
                        <td>${Number(item.giamgia || 0).toLocaleString('vi-VN')} ƒë</td>
                        <td>${item.hoten || item.manv}</td>
                        <td>
                            <button class="btn btn-warning btn-view-donhang" data-id="${item.sodh}">üëÅÔ∏è Xem</button>
                            <button class="btn btn-danger btn-delete-donhang" data-id="${item.sodh}">üóëÔ∏è X√≥a</button>
                        </td>
                    </tr>
                `).join('');
                
                document.querySelectorAll('.btn-delete-donhang').forEach(btn => {
                    btn.addEventListener('click', function() {
                        deleteDonHang(this.getAttribute('data-id'));
                    });
                });
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-donhang', 'L·ªói khi t·∫£i d·ªØ li·ªáu!', 'error');
            }
        }
        
        // Load nh√¢n vi√™n cho select
        async function loadNhanVienForSelect() {
            try {
                const response = await fetch(`${API_BASE_URL}/nhanvien`);
                const data = await response.json();
                
                const select = document.getElementById('manv');
                select.innerHTML = '<option value="">-- Ch·ªçn nh√¢n vi√™n --</option>';
                data.forEach(item => {
                    select.innerHTML += `<option value="${item.manv}">${item.hoten}</option>`;
                });
            } catch (error) {
                console.error('L·ªói:', error);
            }
        }
        
        // Load s·∫£n ph·∫©m cho select
        async function loadSanPhamForSelect() {
            try {
                const response = await fetch(`${API_BASE_URL}/sanpham`);
                const data = await response.json();
                
                const selects = document.querySelectorAll('.chitiet-masp');
                selects.forEach(select => {
                    select.innerHTML = '<option value="">-- Ch·ªçn s·∫£n ph·∫©m --</option>';
                    data.forEach(item => {
                        select.innerHTML += `<option value="${item.masp}" data-gia="${item.giaban}">${item.tensp} - ${Number(item.giaban).toLocaleString('vi-VN')} ƒë</option>`;
                    });
                });
            } catch (error) {
                console.error('L·ªói:', error);
            }
        }
        
        // Th√™m chi ti·∫øt ƒë∆°n h√†ng
        document.getElementById('btn-them-chitiet').addEventListener('click', async function() {
            const container = document.getElementById('chitiet-container');
            const newItem = document.createElement('div');
            newItem.className = 'chitiet-item';
            newItem.style.cssText = 'background: #f0f0f0; padding: 15px; border-radius: 8px; margin-bottom: 10px;';
            newItem.innerHTML = `
                <div class="grid-2">
                    <div class="form-group">
                        <label>S·∫£n Ph·∫©m</label>
                        <select class="chitiet-masp" required>
                            <option value="">-- Ch·ªçn s·∫£n ph·∫©m --</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>S·ªë L∆∞·ª£ng</label>
                        <input type="number" class="chitiet-sl" required min="1" value="1">
                    </div>
                </div>
                <button type="button" class="btn btn-danger btn-remove-chitiet">‚ùå X√≥a</button>
            `;
            container.appendChild(newItem);
            
            // Load s·∫£n ph·∫©m cho select m·ªõi
            await loadSanPhamForSelect();
            
            // G·∫Øn s·ª± ki·ªán x√≥a
            newItem.querySelector('.btn-remove-chitiet').addEventListener('click', function() {
                newItem.remove();
            });
        });
        
        // POST: T·∫°o ƒë∆°n h√†ng
        document.getElementById('form-donhang').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // L·∫•y th√¥ng tin chi ti·∫øt
            const chiTiet = [];
            document.querySelectorAll('.chitiet-item').forEach(item => {
                const masp = item.querySelector('.chitiet-masp').value;
                const sl = item.querySelector('.chitiet-sl').value;
                const selectOption = item.querySelector('.chitiet-masp').selectedOptions[0];
                const gia = selectOption ? selectOption.getAttribute('data-gia') : 0;
                
                if (masp && sl) {
                    chiTiet.push({ masp: parseInt(masp), sl: parseInt(sl), gia: parseFloat(gia) });
                }
            });
            
            if (chiTiet.length === 0) {
                showAlert('alert-donhang', 'Vui l√≤ng th√™m √≠t nh·∫•t 1 s·∫£n ph·∫©m!', 'error');
                return;
            }
            
            const data = {
                ngaytao: document.getElementById('ngaytao').value,
                giamgia: document.getElementById('giamgia-dh').value || 0,
                manv: document.getElementById('manv').value,
                chitiet: chiTiet
            };
            
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: POST /api/donhang
                 * Body: { ngaytao: "2024-01-01T10:00", giamgia: 10000, manv: 1, chitiet: [{masp: 1, sl: 2, gia: 50000}, ...] }
                 * API c·∫ßn t·∫°o ƒë∆°n h√†ng v√† chi ti·∫øt ƒë∆°n h√†ng
                 */
                const response = await fetch(`${API_BASE_URL}/donhang`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                
                const result = await response.json();
                showAlert('alert-donhang', 'T·∫°o ƒë∆°n h√†ng th√†nh c√¥ng!', 'success');
                document.getElementById('form-donhang').reset();
                
                // Reset chi ti·∫øt container
                document.getElementById('chitiet-container').innerHTML = `
                    <div class="chitiet-item" style="background: #f0f0f0; padding: 15px; border-radius: 8px; margin-bottom: 10px;">
                        <div class="grid-2">
                            <div class="form-group">
                                <label>S·∫£n Ph·∫©m</label>
                                <select class="chitiet-masp" required>
                                    <option value="">-- Ch·ªçn s·∫£n ph·∫©m --</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>S·ªë L∆∞·ª£ng</label>
                                <input type="number" class="chitiet-sl" required min="1" value="1">
                            </div>
                        </div>
                    </div>
                `;
                
                loadSanPhamForSelect();
                loadDonHang();
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-donhang', 'L·ªói khi t·∫°o ƒë∆°n h√†ng!', 'error');
            }
        });
        
        // DELETE: X√≥a ƒë∆°n h√†ng
        async function deleteDonHang(sodh) {
            if (!confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a ƒë∆°n h√†ng n√†y?')) return;
            
            try {
                /* TODO: Ch·ªânh s·ª≠a fetch n√†y
                 * Endpoint: DELETE /api/donhang/:sodh
                 * API c·∫ßn x√≥a c·∫£ chi ti·∫øt ƒë∆°n h√†ng
                 */
                const response = await fetch(`${API_BASE_URL}/donhang/${sodh}`, {
                    method: 'DELETE'
                });
                
                showAlert('alert-donhang', 'X√≥a ƒë∆°n h√†ng th√†nh c√¥ng!', 'success');
                loadDonHang();
            } catch (error) {
                console.error('L·ªói:', error);
                showAlert('alert-donhang', 'L·ªói khi x√≥a!', 'error');
            }
        }
        
        // ==================== LOAD D·ªÆ LI·ªÜU BAN ƒê·∫¶U ====================
        window.addEventListener('DOMContentLoaded', function() {
            loadDanhMuc();
        });
    </script>
</body>
</html>